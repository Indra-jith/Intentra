name = "promptforge-api"
main = "src/index.ts"
compatibility_date = "2026-02-05"

# D1 Database binding
[[d1_databases]]
binding = "DB"
database_name = "promptforge-db"
database_id = "25361e0e-f09f-404f-940a-07eb05627699"

# KV namespace for rate limiting and caching
[[kv_namespaces]]
binding = "CACHE"
id = "fbfd4ec304854383a16c966d55df382b"

# R2 bucket for exports (optional)
[[r2_buckets]]
binding = "STORAGE"
bucket_name = "promptforge-storage"

# Environment variables (secrets set via wrangler secret put)
[vars]
ENVIRONMENT = "production"

# Local development configuration
[dev]
persist_to = ".wrangler/state"
